{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?255b","webpack:///./src/views/Main.vue?ae64","webpack:///src/views/Main.vue","webpack:///./src/views/Main.vue?47aa","webpack:///./src/views/Main.vue","webpack:///./src/views/Rain.vue?a78e","webpack:///./src/rain/webgl.js","webpack:///./src/rain/gl-obj.js","webpack:///./src/rain/create-canvas.js","webpack:///./src/rain/shaders.js","webpack:///./src/rain/rain-renderer.js","webpack:///./src/rain/image-loader.js","webpack:///./src/rain/times.js","webpack:///./src/rain/random.js","webpack:///./src/rain/raindrops.js","webpack:///src/views/Rain.vue","webpack:///./src/views/Rain.vue?7956","webpack:///./src/views/Rain.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a37b","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Appvue_type_template_id_169c3902_render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","rain","staticRenderFns","Mainvue_type_template_id_70edb463_render","staticClass","staticStyle","font-family","_v","end","Mainvue_type_template_id_70edb463_staticRenderFns","Mainvue_type_script_lang_js_","components","Countdown","vuejs_countdown_default","a","views_Mainvue_type_script_lang_js_","component","componentNormalizer","Main","Rainvue_type_template_id_9f29cb2a_render","_m","Rainvue_type_template_id_9f29cb2a_staticRenderFns","position","top","display","src","alt","width","height","id","data-weather","getContext","canvas","options","arguments","undefined","contexts","context","some","e","document","body","classList","add","createProgram","gl","vertexScript","fragScript","vertexShader","createShader","VERTEX_SHADER","fragShader","FRAGMENT_SHADER","program","attachShader","linkProgram","linked","getProgramParameter","LINK_STATUS","lastError","getProgramInfoLog","error","deleteProgram","positionLocation","getAttribLocation","texCoordLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","buffer","script","type","shader","shaderSource","compileShader","compiled","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","createTexture","source","texture","activeTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","updateTexture","createUniform","location","getUniformLocation","_len","args","Array","_key","concat","texImage2D","RGBA","UNSIGNED_BYTE","setRectangle","x","y","x1","x2","y1","y2","msg","console","GL","vert","frag","init","WebGL","useProgram","v","viewport","draw","drawArrays","TRIANGLES","createCanvas","createElement","RainShaders","getVertexCode","getFragmentCode","shaders","glsl","require","vertShader","defaultOptions","renderShadow","minRefraction","maxRefraction","brightness","alphaMultiply","alphaSubtract","parallaxBg","parallaxFg","RainRenderer","canvasLiquid","imageFg","imageBg","imageShine","assign","textures","programWater","programBlurX","programBlurY","parallaxX","parallaxY","alpha","img","forEach","resize","requestAnimationFrame","updateTextures","_this","overlayTexture","loadImage","onLoad","Promise","resolve","reject","Image","addEventListener","event","loadImages","images","all","map","ImageLoader","then","loadedImages","curImage","times","f","random","from","to","interpolation","delta","Math","chance","dropSize","Drop","spreadX","spreadY","momentum","momentumX","lastSpawn","nextSpawn","parent","isNew","killed","shrink","minR","maxR","maxDrops","rainChance","rainLimit","dropletsRate","dropletsSize","dropletsCleaningRadiusMultiplier","raining","globalTimeScale","trailRate","autoShrink","spawnArea","trailScaleRange","collisionRadius","collisionRadiusIncrease","dropFallMultiplier","collisionBoostMultiplier","collisionBoost","Raindrops","scale","dropAlpha","dropColor","ctx","dropletsPixelDensity","droplets","dropletsCtx","dropletsCounter","drops","dropsGfx","clearDropletsGfx","textureCleaningIterations","lastRender","renderDropsGfx","update","deltaR","area","areaMultiplier","sqrt","drawDroplet","drawDrop","dropBuffer","dropBufferCtx","cur","drop","dropCtx","clearRect","globalCompositeOperation","drawImage","fillStyle","fillRect","clearDropletsCtx","beginPath","arc","PI","fill","scaleX","scaleY","max","min","globalAlpha","floor","clearDroplets","clearCanvas","createDrop","addDrop","updateRain","timeScale","rainDrops","limit","count","pow","rainDrop","clearDrops","setTimeout","clearTexture","updateDroplets","_this2","toConsumableArray","updateDrops","_this3","newDrops","sort","b","va","vb","_this4","trailDrop","moved","checkCollision","drop2","dx","dy","pi","r1","r2","a1","a2","targetR","now","Date","deltaT","Rainvue_type_script_lang_js_","textureRainFg","textureRainBg","textureStormLightningFg","textureStormLightningBg","textureFalloutFg","textureFalloutBg","textureSunFg","textureSunBg","textureDrizzleFg","textureDrizzleBg","textureFg","textureFgCtx","textureBg","textureBgCtx","textureBgSize","textureFgSize","raindrops","renderer","parallax","weatherData","curWeatherData","blend","dpi","methods","loadTextures","querySelector","devicePixelRatio","innerWidth","innerHeight","style","generateTextures","rain_renderer","setupEvents","setupParallax","setupWeather","setupFlash","pageX","pageY","gsap","ease","Quint","easeOut","onUpdate","setInterval","flashChance","flash","bg","fg","flashBg","flashFg","setupWeatherData","updateWeather","defaultWeather","weather","_this5","hash","currentSlide","getAttribute","fromTo","baseBg","baseFg","flashValue","transitionFlash","_this6","onComplete","lastFlash","resizeCanvas","created","views_Rainvue_type_script_lang_js_","Rain_component","Rain","Appvue_type_script_lang_js_","dark","MainView","src_Appvue_type_script_lang_js_","App_component","App","Vue","use","Vuetify","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.8c4b9b48.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"rain\":\"\"}},[_c('Rain'),_c('MainView')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"countdown\"},[_c('h1',{staticStyle:{\"font-family\":\"'Sackers_Gothic_Std_Light', sans-serif\"}},[_vm._v(\"Death Stranding\")]),_c('h2',[_vm._v(\"releases in:\")]),_c('Countdown',{attrs:{\"end\":\"November 8, 2019\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"countdown\">\r\n  \t<h1 style=\"font-family: 'Sackers_Gothic_Std_Light', sans-serif\">Death Stranding</h1>\r\n  \t<h2>releases in:</h2>\r\n    <Countdown end=\"November 8, 2019\"></Countdown>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Countdown from 'vuejs-countdown'\r\n\r\nexport default {\r\n  name: \"MainView\",\r\n\r\n  components: { Countdown  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=70edb463&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"0px\"}},[_c('div',{staticClass:\"image-preload\",staticStyle:{\"display\":\"none\"}},[_c('img',{attrs:{\"src\":\"img/drop-color.png\",\"alt\":\"\"}}),_c('img',{attrs:{\"src\":\"img/drop-alpha.png\",\"alt\":\"\"}}),_c('img',{attrs:{\"src\":\"img/weather/texture-rain-fg.png\"}}),_c('img',{attrs:{\"src\":\"img/weather/texture-rain-bg.png\"}})]),_c('div',[_c('div',{staticClass:\"slideshow\"},[_c('canvas',{staticStyle:{\"position\":\"absolute\"},attrs:{\"width\":\"1\",\"height\":\"1\",\"id\":\"container\"}}),_c('div',{staticClass:\"slide\",attrs:{\"id\":\"slide-1\",\"data-weather\":\"rain\"}})]),_c('p',{staticClass:\"nosupport\"},[_vm._v(\"Sorry, but your browser does not support WebGL!\")])])])}]\n\nexport { render, staticRenderFns }","export function getContext(canvas, options = {}) {\n  let contexts = [\"webgl\", \"experimental-webgl\"];\n  let context = null;\n\n  contexts.some(name => {\n    try {\n      context = canvas.getContext(name, options);\n    } catch (e) {\n      context = null;\n    }\n    return context != null;\n  });\n\n  if (context == null) {\n    document.body.classList.add(\"no-webgl\");\n  }\n\n  return context;\n}\n\nexport function createProgram(gl, vertexScript, fragScript) {\n  let vertexShader = createShader(gl, vertexScript, gl.VERTEX_SHADER);\n  let fragShader = createShader(gl, fragScript, gl.FRAGMENT_SHADER);\n\n  let program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragShader);\n\n  gl.linkProgram(program);\n\n  let linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n  if (!linked) {\n    var lastError = gl.getProgramInfoLog(program);\n    error(\"Error in program linking: \" + lastError);\n    gl.deleteProgram(program);\n    return null;\n  }\n\n  var positionLocation = gl.getAttribLocation(program, \"a_position\");\n  var texCoordLocation = gl.getAttribLocation(program, \"a_texCoord\");\n\n  var texCoordBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n  gl.bufferData(\n    gl.ARRAY_BUFFER,\n    new Float32Array([\n      -1.0,\n      -1.0,\n      1.0,\n      -1.0,\n      -1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0\n    ]),\n    gl.STATIC_DRAW\n  );\n  gl.enableVertexAttribArray(texCoordLocation);\n  gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n  // Create a buffer for the position of the rectangle corners.\n  var buffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.enableVertexAttribArray(positionLocation);\n  gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n  return program;\n}\n\nexport function createShader(gl, script, type) {\n  let shader = gl.createShader(type);\n  gl.shaderSource(shader, script);\n  gl.compileShader(shader);\n\n  let compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n  if (!compiled) {\n    let lastError = gl.getShaderInfoLog(shader);\n    error(\"Error compiling shader '\" + shader + \"':\" + lastError);\n    gl.deleteShader(shader);\n    return null;\n  }\n  return shader;\n}\n\nexport function createTexture(gl, source, i) {\n  var texture = gl.createTexture();\n  activeTexture(gl, i);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n\n  // Set the parameters so we can render any size image.\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n  if (source == null) {\n    return texture;\n  } else {\n    updateTexture(gl, source);\n  }\n\n  return texture;\n}\n\nexport function createUniform(gl, program, type, name, ...args) {\n  let location = gl.getUniformLocation(program, \"u_\" + name);\n  gl[\"uniform\" + type](location, ...args);\n}\n\nexport function activeTexture(gl, i) {\n  gl.activeTexture(gl[\"TEXTURE\" + i]);\n}\n\nexport function updateTexture(gl, source) {\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n}\n\nexport function setRectangle(gl, x, y, width, height) {\n  var x1 = x;\n  var x2 = x + width;\n  var y1 = y;\n  var y2 = y + height;\n\n  gl.bufferData(\n    gl.ARRAY_BUFFER,\n    new Float32Array([x1, y1, x2, y1, x1, y2, x1, y2, x2, y1, x2, y2]),\n    gl.STATIC_DRAW\n  );\n}\n\nfunction error(msg) {\n  console.error(msg);\n}\n","import * as WebGL from \"./webgl\";\n\nfunction GL(canvas, options, vert, frag) {\n  this.init(canvas, options, vert, frag);\n}\n\nGL.prototype = {\n  canvas: null,\n  gl: null,\n  program: null,\n  width: 0,\n  height: 0,\n  init(canvas, options, vert, frag) {\n    this.canvas = canvas;\n    this.width = canvas.width;\n    this.height = canvas.height;\n    this.gl = WebGL.getContext(canvas, options);\n    this.program = this.createProgram(vert, frag);\n    this.useProgram(this.program);\n  },\n  createProgram(vert, frag) {\n    let program = WebGL.createProgram(this.gl, vert, frag);\n    return program;\n  },\n  useProgram(program) {\n    this.program = program;\n    this.gl.useProgram(program);\n  },\n  createTexture(source, i) {\n    return WebGL.createTexture(this.gl, source, i);\n  },\n  createUniform(type, name, ...v) {\n    WebGL.createUniform(this.gl, this.program, type, name, ...v);\n  },\n  activeTexture(i) {\n    WebGL.activeTexture(this.gl, i);\n  },\n  updateTexture(source) {\n    WebGL.updateTexture(this.gl, source);\n  },\n  viewport(width, height) {\n    this.gl.viewport(0, 0, width, height);\n  },\n  draw() {\n    WebGL.setRectangle(this.gl, -1, -1, 2, 2);\n    this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n  }\n};\n\nexport default GL;\n","export default function createCanvas(width, height) {\n  let canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\n","function RainShaders(){\n  this.init();\n}\n\nRainShaders.prototype = {\n  init() {},\n\n  getVertexCode() {\n    return `\nprecision mediump float;\n\nattribute vec2 a_position;\n\nvoid main() {\n   gl_Position = vec4(a_position,0.0,1.0);\n}\n`;\n  },\n\n  getFragmentCode() {\n    return `\nprecision mediump float;\n\n// textures\nuniform sampler2D u_waterMap;\nuniform sampler2D u_textureShine;\nuniform sampler2D u_textureFg;\nuniform sampler2D u_textureBg;\n\n// the texCoords passed in from the vertex shader.\nvarying vec2 v_texCoord;\nuniform vec2 u_resolution;\nuniform vec2 u_parallax;\nuniform float u_parallaxFg;\nuniform float u_parallaxBg;\nuniform float u_textureRatio;\nuniform bool u_renderShine;\nuniform bool u_renderShadow;\nuniform float u_minRefraction;\nuniform float u_refractionDelta;\nuniform float u_brightness;\nuniform float u_alphaMultiply;\nuniform float u_alphaSubtract;\n\n// alpha-blends two colors\nvec4 blend(vec4 bg,vec4 fg){\n  vec3 bgm=bg.rgb*bg.a;\n  vec3 fgm=fg.rgb*fg.a;\n  float ia=1.0-fg.a;\n  float a=(fg.a + bg.a * ia);\n  vec3 rgb;\n  if(a!=0.0){\n    rgb=(fgm + bgm * ia) / a;\n  }else{\n    rgb=vec3(0.0,0.0,0.0);\n  }\n  return vec4(rgb,a);\n}\n\nvec2 pixel(){\n  return vec2(1.0,1.0)/u_resolution;\n}\n\nvec2 parallax(float v){\n  return u_parallax*pixel()*v;\n}\n\nvec2 texCoord(){\n  return vec2(gl_FragCoord.x, u_resolution.y-gl_FragCoord.y)/u_resolution;\n}\n\n// scales the bg up and proportionally to fill the container\nvec2 scaledTexCoord(){\n  float ratio=u_resolution.x/u_resolution.y;\n  vec2 scale=vec2(1.0,1.0);\n  vec2 offset=vec2(0.0,0.0);\n  float ratioDelta=ratio-u_textureRatio;\n  if(ratioDelta>=0.0){\n    scale.y=(1.0+ratioDelta);\n    offset.y=ratioDelta/2.0;\n  }else{\n    scale.x=(1.0-ratioDelta);\n    offset.x=-ratioDelta/2.0;\n  }\n  return (texCoord()+offset)/scale;\n}\n\n// get color from fg\nvec4 fgColor(float x, float y){\n  float p2=u_parallaxFg*2.0;\n  vec2 scale=vec2(\n    (u_resolution.x+p2)/u_resolution.x,\n    (u_resolution.y+p2)/u_resolution.y\n  );\n\n  vec2 scaledTexCoord=texCoord()/scale;\n  vec2 offset=vec2(\n    (1.0-(1.0/scale.x))/2.0,\n    (1.0-(1.0/scale.y))/2.0\n  );\n\n  return texture2D(u_waterMap,\n    (scaledTexCoord+offset)+(pixel()*vec2(x,y))+parallax(u_parallaxFg)\n  );\n}\n\nvoid main() {\n  vec4 bg=texture2D(u_textureBg,scaledTexCoord()+parallax(u_parallaxBg));\n\n  vec4 cur = fgColor(0.0,0.0);\n\n  float d=cur.b; // \"thickness\"\n  float x=cur.g;\n  float y=cur.r;\n\n  float a=clamp(cur.a*u_alphaMultiply-u_alphaSubtract, 0.0,1.0);\n\n  vec2 refraction = (vec2(x,y)-0.5)*2.0;\n  vec2 refractionParallax=parallax(u_parallaxBg-u_parallaxFg);\n  vec2 refractionPos = scaledTexCoord()\n    + (pixel()*refraction*(u_minRefraction+(d*u_refractionDelta)))\n    + refractionParallax;\n\n  vec4 tex=texture2D(u_textureFg,refractionPos);\n\n  if(u_renderShine){\n    float maxShine=490.0;\n    float minShine=maxShine*0.18;\n    vec2 shinePos=vec2(0.5,0.5) + ((1.0/512.0)*refraction)* -(minShine+((maxShine-minShine)*d));\n    vec4 shine=texture2D(u_textureShine,shinePos);\n    tex=blend(tex,shine);\n  }\n\n  vec4 fg=vec4(tex.rgb*u_brightness,a);\n\n  if(u_renderShadow){\n    float borderAlpha = fgColor(0.,0.-(d*6.0)).a;\n    borderAlpha=borderAlpha*u_alphaMultiply-(u_alphaSubtract+0.5);\n    borderAlpha=clamp(borderAlpha,0.,1.);\n    borderAlpha*=0.2;\n    vec4 border=vec4(0.,0.,0.,borderAlpha);\n    fg=blend(border,fg);\n  }\n\n  gl_FragColor = blend(bg,fg);\n}\n`;\n  }  \n}\n\nexport default RainShaders;\n","import GL from \"./gl-obj\";\nimport createCanvas from \"./create-canvas\";\nimport RainShaders from \"./shaders\";\n\nconst shaders = new RainShaders();\nconst glsl = require(\"glslify\");\n\nconst vertShader = glsl(shaders.getVertexCode());\nconst fragShader = glsl(shaders.getFragmentCode());\n\nconst defaultOptions = {\n  renderShadow: false,\n  minRefraction: 256,\n  maxRefraction: 512,\n  brightness: 1,\n  alphaMultiply: 20,\n  alphaSubtract: 5,\n  parallaxBg: 5,\n  parallaxFg: 20\n};\n\nfunction RainRenderer(\n  canvas,\n  canvasLiquid,\n  imageFg,\n  imageBg,\n  imageShine = null,\n  options = {}\n) {\n  this.canvas = canvas;\n  this.canvasLiquid = canvasLiquid;\n  this.imageShine = imageShine;\n  this.imageFg = imageFg;\n  this.imageBg = imageBg;\n  this.options = Object.assign({}, defaultOptions, options);\n  this.init();\n}\n\nRainRenderer.prototype = {\n  canvas: null,\n  gl: null,\n  canvasLiquid: null,\n  width: 0,\n  height: 0,\n  imageShine: \"\",\n  imageFg: \"\",\n  imageBg: \"\",\n  textures: null,\n  programWater: null,\n  programBlurX: null,\n  programBlurY: null,\n  parallaxX: 0,\n  parallaxY: 0,\n  renderShadow: false,\n  options: null,\n  init() {\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.gl = new GL(this.canvas, { alpha: false }, vertShader, fragShader);\n    let gl = this.gl;\n    this.programWater = gl.program;\n\n    gl.createUniform(\"2f\", \"resolution\", this.width, this.height);\n    gl.createUniform(\n      \"1f\",\n      \"textureRatio\",\n      this.imageBg.width / this.imageBg.height\n    );\n    gl.createUniform(\n      \"1i\",\n      \"renderShine\",\n      this.imageShine == null ? false : true\n    );\n    gl.createUniform(\"1i\", \"renderShadow\", this.options.renderShadow);\n    gl.createUniform(\"1f\", \"minRefraction\", this.options.minRefraction);\n    gl.createUniform(\n      \"1f\",\n      \"refractionDelta\",\n      this.options.maxRefraction - this.options.minRefraction\n    );\n    gl.createUniform(\"1f\", \"brightness\", this.options.brightness);\n    gl.createUniform(\"1f\", \"alphaMultiply\", this.options.alphaMultiply);\n    gl.createUniform(\"1f\", \"alphaSubtract\", this.options.alphaSubtract);\n    gl.createUniform(\"1f\", \"parallaxBg\", this.options.parallaxBg);\n    gl.createUniform(\"1f\", \"parallaxFg\", this.options.parallaxFg);\n\n    gl.createTexture(null, 0);\n\n    this.textures = [\n      {\n        name: \"textureShine\",\n        img: this.imageShine == null ? createCanvas(2, 2) : this.imageShine\n      },\n      { name: \"textureFg\", img: this.imageFg },\n      { name: \"textureBg\", img: this.imageBg }\n    ];\n\n    this.textures.forEach((texture, i) => {\n      gl.createTexture(texture.img, i + 1);\n      gl.createUniform(\"1i\", texture.name, i + 1);\n    });\n\n    this.draw();\n  },\n  draw() {\n    this.resize();\n    this.gl.useProgram(this.programWater);\n    this.gl.createUniform(\"2f\", \"resolution\", this.width, this.height);\n    this.gl.createUniform(\"2f\", \"parallax\", this.parallaxX, this.parallaxY);\n    this.updateTexture();\n    this.gl.draw();\n\n    requestAnimationFrame(this.draw.bind(this));\n  },\n  updateTextures() {\n    this.textures.forEach((texture, i) => {\n      this.gl.activeTexture(i + 1);\n      this.gl.updateTexture(texture.img);\n    });\n  },\n  updateTexture() {\n    this.gl.activeTexture(0);\n    this.gl.updateTexture(this.canvasLiquid);\n  },\n  resize() {\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n\n    this.gl.viewport(this.width, this.height);\n  },\n  get overlayTexture() {\n    return null;\n  },\n  set overlayTexture(v) {}\n};\n\nexport default RainRenderer;\n","function loadImage(src, i, onLoad) {\n  return new Promise((resolve, reject) => {\n    if (typeof src == \"string\") {\n      src = {\n        name: \"image\" + i,\n        src\n      };\n    }\n\n    let img = new Image();\n    src.img = img;\n    img.addEventListener(\"load\", event => {\n      if (typeof onLoad == \"function\") {\n        onLoad.call(null, img, i);\n      }\n      resolve(src);\n    });\n    img.src = src.src;\n  });\n}\n\nfunction loadImages(images, onLoad) {\n  return Promise.all(\n    images.map((src, i) => {\n      return loadImage(src, i, onLoad);\n    })\n  );\n}\n\nexport default function ImageLoader(images, onLoad) {\n  return new Promise((resolve, reject) => {\n    loadImages(images, onLoad).then(loadedImages => {\n      let r = {};\n      loadedImages.forEach(curImage => {\n        r[curImage.name] = {\n          img: curImage.img,\n          src: curImage.src\n        };\n      });\n\n      resolve(r);\n    });\n  });\n}\n","export default function times(n,f){\n  for (let i = 0; i < n; i++) {\n    f.call(this,i);\n  }\n}\n","export function random(from=null,to=null,interpolation=null){\n  if(from==null){\n    from=0;\n    to=1;\n  }else if(from!=null && to==null){\n    to=from;\n    from=0;\n  }\n  const delta=to-from;\n\n  if(interpolation==null){\n    interpolation=(n)=>{\n      return n;\n    }\n  }\n  return from+(interpolation(Math.random())*delta);\n}\nexport function chance(c){\n  return random()<=c;\n}\n","import loadImages from \"./image-loader\";\nimport times from \"./times.js\";\nimport createCanvas from \"./create-canvas.js\";\nimport {random, chance} from \"./random\";\n\nlet dropSize=64;\nconst Drop={\n  x:0,\n  y:0,\n  r:0,\n  spreadX:0,\n  spreadY:0,\n  momentum:0,\n  momentumX:0,\n  lastSpawn:0,\n  nextSpawn:0,\n  parent:null,\n  isNew:true,\n  killed:false,\n  shrink:0,\n}\nconst defaultOptions={\n  minR:10,\n  maxR:40,\n  maxDrops:900,\n  rainChance:0.3,\n  rainLimit:3,\n  dropletsRate:50,\n  dropletsSize:[2,4],\n  dropletsCleaningRadiusMultiplier:0.43,\n  raining:true,\n  globalTimeScale:1,\n  trailRate:1,\n  autoShrink:true,\n  spawnArea:[-0.1,0.95],\n  trailScaleRange:[0.2,0.5],\n  collisionRadius:0.65,\n  collisionRadiusIncrease:0.01,\n  dropFallMultiplier:1,\n  collisionBoostMultiplier:0.05,\n  collisionBoost:1,\n}\n\nfunction Raindrops(width,height,scale,dropAlpha,dropColor,options={}){\n  this.width=width;\n  this.height=height;\n  this.scale=scale;\n  this.dropAlpha=dropAlpha;\n  this.dropColor=dropColor;\n  this.options=Object.assign({},defaultOptions,options);\n  this.init();\n}\nRaindrops.prototype={\n  dropColor:null,\n  dropAlpha:null,\n  canvas:null,\n  ctx:null,\n  width:0,\n  height:0,\n  scale:0,\n  dropletsPixelDensity:1,\n  droplets:null,\n  dropletsCtx:null,\n  dropletsCounter:0,\n  drops:null,\n  dropsGfx:null,\n  clearDropletsGfx:null,\n  textureCleaningIterations:0,\n  lastRender:null,\n\n  options:null,\n\n  init(){\n    this.canvas = createCanvas(this.width,this.height);\n    this.ctx = this.canvas.getContext('2d');\n\n    this.droplets = createCanvas(this.width*this.dropletsPixelDensity,this.height*this.dropletsPixelDensity);\n    this.dropletsCtx = this.droplets.getContext('2d');\n\n    this.drops=[];\n    this.dropsGfx=[];\n\n    this.renderDropsGfx();\n\n    this.update();\n  },\n  get deltaR(){\n    return this.options.maxR-this.options.minR;\n  },\n  get area(){\n    return (this.width*this.height)/this.scale;\n  },\n  get areaMultiplier(){\n    return Math.sqrt(this.area/(1024*768));\n  },\n  drawDroplet(x,y,r){\n    this.drawDrop(this.dropletsCtx,Object.assign(Object.create(Drop),{\n      x:x*this.dropletsPixelDensity,\n      y:y*this.dropletsPixelDensity,\n      r:r*this.dropletsPixelDensity\n    }));\n  },\n\n  renderDropsGfx(){\n    let dropBuffer=createCanvas(dropSize,dropSize);\n    let dropBufferCtx=dropBuffer.getContext('2d');\n    this.dropsGfx=Array.apply(null,Array(255))\n      .map((cur,i)=>{\n        let drop=createCanvas(dropSize,dropSize);\n        let dropCtx=drop.getContext('2d');\n\n        dropBufferCtx.clearRect(0,0,dropSize,dropSize);\n\n        // color\n        dropBufferCtx.globalCompositeOperation=\"source-over\";\n        dropBufferCtx.drawImage(this.dropColor,0,0,dropSize,dropSize);\n\n        // blue overlay, for depth\n        dropBufferCtx.globalCompositeOperation=\"screen\";\n        dropBufferCtx.fillStyle=\"rgba(0,0,\"+i+\",1)\";\n        dropBufferCtx.fillRect(0,0,dropSize,dropSize);\n\n        // alpha\n        dropCtx.globalCompositeOperation=\"source-over\";\n        dropCtx.drawImage(this.dropAlpha,0,0,dropSize,dropSize);\n\n        dropCtx.globalCompositeOperation=\"source-in\";\n        dropCtx.drawImage(dropBuffer,0,0,dropSize,dropSize);\n        return drop;\n    });\n\n    // create circle that will be used as a brush to remove droplets\n    this.clearDropletsGfx=createCanvas(128,128);\n    let clearDropletsCtx=this.clearDropletsGfx.getContext(\"2d\");\n    clearDropletsCtx.fillStyle=\"#000\";\n    clearDropletsCtx.beginPath();\n    clearDropletsCtx.arc(64,64,64,0,Math.PI*2);\n    clearDropletsCtx.fill();\n  },\n  drawDrop(ctx,drop){\n    if(this.dropsGfx.length>0){\n      let x=drop.x;\n      let y=drop.y;\n      let r=drop.r;\n      let spreadX=drop.spreadX;\n      let spreadY=drop.spreadY;\n\n      let scaleX=1;\n      let scaleY=1.5;\n\n      let d=Math.max(0,Math.min(1,((r-this.options.minR)/(this.deltaR))*0.9));\n      d*=1/(((drop.spreadX+drop.spreadY)*0.5)+1);\n\n      ctx.globalAlpha=1;\n      ctx.globalCompositeOperation=\"source-over\";\n\n      d=Math.floor(d*(this.dropsGfx.length-1));\n      ctx.drawImage(\n        this.dropsGfx[d],\n        (x-(r*scaleX*(spreadX+1)))*this.scale,\n        (y-(r*scaleY*(spreadY+1)))*this.scale,\n        (r*2*scaleX*(spreadX+1))*this.scale,\n        (r*2*scaleY*(spreadY+1))*this.scale\n      );\n    }\n  },\n  clearDroplets(x,y,r=30){\n    let ctx=this.dropletsCtx;\n    ctx.globalCompositeOperation=\"destination-out\";\n    ctx.drawImage(\n      this.clearDropletsGfx,\n      (x-r)*this.dropletsPixelDensity*this.scale,\n      (y-r)*this.dropletsPixelDensity*this.scale,\n      (r*2)*this.dropletsPixelDensity*this.scale,\n      (r*2)*this.dropletsPixelDensity*this.scale*1.5\n    )\n  },\n  clearCanvas(){\n    this.ctx.clearRect(0,0,this.width,this.height);\n  },\n  createDrop(options){\n    if(this.drops.length >= this.options.maxDrops*this.areaMultiplier) return null;\n\n    return Object.assign(Object.create(Drop),options);\n  },\n  addDrop(drop){\n    if(this.drops.length >= this.options.maxDrops*this.areaMultiplier || drop==null) return false;\n\n    this.drops.push(drop);\n    return true;\n  },\n  updateRain(timeScale){\n    let rainDrops=[];\n    if(this.options.raining){\n      let limit=this.options.rainLimit*timeScale*this.areaMultiplier;\n      let count=0;\n      while(chance(this.options.rainChance*timeScale*this.areaMultiplier) && count<limit){\n        count++;\n        let r=random(this.options.minR,this.options.maxR,(n)=>{\n          return Math.pow(n,3);\n        });\n        let rainDrop=this.createDrop({\n          x:random(this.width/this.scale),\n          y:random((this.height/this.scale)*this.options.spawnArea[0],(this.height/this.scale)*this.options.spawnArea[1]),\n          r:r,\n          momentum:1+((r-this.options.minR)*0.1)+random(2),\n          spreadX:1.5,\n          spreadY:1.5,\n        });\n        if(rainDrop!=null){\n          rainDrops.push(rainDrop);\n        }\n      }\n    }\n    return rainDrops;\n  },\n  clearDrops(){\n    this.drops.forEach((drop)=>{\n      setTimeout(()=>{\n        drop.shrink=0.1+(random(0.5));\n      },random(1200))\n    })\n    this.clearTexture();\n  },\n  clearTexture(){\n    this.textureCleaningIterations=50;\n  },\n  updateDroplets(timeScale){\n    if(this.textureCleaningIterations>0){\n      this.textureCleaningIterations-=1*timeScale;\n      this.dropletsCtx.globalCompositeOperation=\"destination-out\";\n      this.dropletsCtx.fillStyle=\"rgba(0,0,0,\"+(0.05*timeScale)+\")\";\n      this.dropletsCtx.fillRect(0,0,\n        this.width*this.dropletsPixelDensity,this.height*this.dropletsPixelDensity);\n    }\n    if(this.options.raining){\n      this.dropletsCounter+=this.options.dropletsRate*timeScale*this.areaMultiplier;\n      times(this.dropletsCounter,(i)=>{\n        this.dropletsCounter--;\n        this.drawDroplet(\n          random(this.width/this.scale),\n          random(this.height/this.scale),\n          random(...this.options.dropletsSize,(n)=>{\n            return n*n;\n          })\n        )\n      });\n    }\n    this.ctx.drawImage(this.droplets,0,0,this.width,this.height);\n  },\n  updateDrops(timeScale){\n    let newDrops=[];\n\n    this.updateDroplets(timeScale);\n    let rainDrops=this.updateRain(timeScale);\n    newDrops=newDrops.concat(rainDrops);\n\n    this.drops.sort((a,b)=>{\n      let va=(a.y*(this.width/this.scale))+a.x;\n      let vb=(b.y*(this.width/this.scale))+b.x;\n      return va>vb?1:va==vb?0:-1;\n    });\n\n    this.drops.forEach(function(drop,i){\n      if(!drop.killed){\n        // update gravity\n        // (chance of drops \"creeping down\")\n        if(chance((drop.r-(this.options.minR*this.options.dropFallMultiplier)) * (0.1/this.deltaR) * timeScale)){\n          drop.momentum += random((drop.r/this.options.maxR)*4);\n        }\n        // clean small drops\n        if(this.options.autoShrink && drop.r<=this.options.minR && chance(0.05*timeScale)){\n          drop.shrink+=0.01;\n        }\n        //update shrinkage\n        drop.r -= drop.shrink*timeScale;\n        if(drop.r<=0) drop.killed=true;\n\n        // update trails\n        if(this.options.raining){\n          drop.lastSpawn+=drop.momentum*timeScale*this.options.trailRate;\n          if(drop.lastSpawn>drop.nextSpawn){\n            let trailDrop=this.createDrop({\n              x:drop.x+(random(-drop.r,drop.r)*0.1),\n              y:drop.y-(drop.r*0.01),\n              r:drop.r*random(...this.options.trailScaleRange),\n              spreadY:drop.momentum*0.1,\n              parent:drop,\n            });\n\n            if(trailDrop!=null){\n              newDrops.push(trailDrop);\n\n              drop.r*=Math.pow(0.97,timeScale);\n              drop.lastSpawn=0;\n              drop.nextSpawn=random(this.options.minR,this.options.maxR)-(drop.momentum*2*this.options.trailRate)+(this.options.maxR-drop.r);\n            }\n          }\n        }\n\n        //normalize spread\n        drop.spreadX*=Math.pow(0.4,timeScale);\n        drop.spreadY*=Math.pow(0.7,timeScale);\n\n        //update position\n        let moved=drop.momentum>0;\n        if(moved && !drop.killed){\n          drop.y+=drop.momentum*this.options.globalTimeScale;\n          drop.x+=drop.momentumX*this.options.globalTimeScale;\n          if(drop.y>(this.height/this.scale)+drop.r){\n            drop.killed=true;\n          }\n        }\n\n        // collision\n        let checkCollision=(moved || drop.isNew) && !drop.killed;\n        drop.isNew=false;\n\n        if(checkCollision){\n          this.drops.slice(i+1,i+70).forEach((drop2)=>{\n            //basic check\n            if(\n              drop != drop2 &&\n              drop.r > drop2.r &&\n              drop.parent != drop2 &&\n              drop2.parent != drop &&\n              !drop2.killed\n            ){\n              let dx=drop2.x-drop.x;\n              let dy=drop2.y-drop.y;\n              var d=Math.sqrt((dx*dx)+(dy*dy));\n              //if it's within acceptable distance\n              if(d<(drop.r+drop2.r)*(this.options.collisionRadius+(drop.momentum*this.options.collisionRadiusIncrease*timeScale))){\n                let pi=Math.PI;\n                let r1=drop.r;\n                let r2=drop2.r;\n                let a1=pi*(r1*r1);\n                let a2=pi*(r2*r2);\n                let targetR=Math.sqrt((a1+(a2*0.8))/pi);\n                if(targetR>this.maxR){\n                  targetR=this.maxR;\n                }\n                drop.r=targetR;\n                drop.momentumX+=dx*0.1;\n                drop.spreadX=0;\n                drop.spreadY=0;\n                drop2.killed=true;\n                drop.momentum=Math.max(drop2.momentum,Math.min(40,drop.momentum+(targetR*this.options.collisionBoostMultiplier)+this.options.collisionBoost));\n              }\n            }\n          });\n        }\n\n        //slowdown momentum\n        drop.momentum-=Math.max(1,(this.options.minR*0.5)-drop.momentum)*0.1*timeScale;\n        if(drop.momentum<0) drop.momentum=0;\n        drop.momentumX*=Math.pow(0.7,timeScale);\n\n\n        if(!drop.killed){\n          newDrops.push(drop);\n          if(moved && this.options.dropletsRate>0) this.clearDroplets(drop.x,drop.y,drop.r*this.options.dropletsCleaningRadiusMultiplier);\n          this.drawDrop(this.ctx, drop);\n        }\n\n      }\n    },this);\n\n    this.drops = newDrops;\n  },\n  update(){\n    this.clearCanvas();\n\n    let now=Date.now();\n    if(this.lastRender==null) this.lastRender=now;\n    let deltaT=now-this.lastRender;\n    let timeScale=deltaT/((1/60)*1000);\n    if(timeScale>1.1) timeScale=1.1;\n    timeScale*=this.options.globalTimeScale;\n    this.lastRender=now;\n\n    this.updateDrops(timeScale);\n\n    requestAnimationFrame(this.update.bind(this));\n  }\n}\n\nexport default Raindrops;\n","<template>\n\t<div style=\"position: absolute; top: 0px\">\n\t\t<div class=\"image-preload\" style=\"display:none\">\n\t\t\t<img src=\"img/drop-color.png\" alt=\"\">\n\t\t\t<img src=\"img/drop-alpha.png\" alt=\"\">\n\t\t\t<img src=\"img/weather/texture-rain-fg.png\" />\n\t\t\t<img src=\"img/weather/texture-rain-bg.png\" />\n\t\t</div>\n\t\t<div>\n\t\t\t<div class=\"slideshow\">\n\t\t\t\t<canvas width=\"1\" height=\"1\" id=\"container\" style=\"position:absolute\"></canvas>\n\t\t\t\t<!-- Heavy Rain -->\n\t\t\t\t<div class=\"slide\" id=\"slide-1\" data-weather=\"rain\"></div>\n\t\t\t</div>\n\t\t\t<p class=\"nosupport\">Sorry, but your browser does not support WebGL!</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport 'core-js';\nimport RainRenderer from \"@/rain/rain-renderer\";\nimport Raindrops from \"@/rain/raindrops\";\nimport loadImages from \"@/rain/image-loader\";\nimport createCanvas from \"@/rain/create-canvas\";\nimport TweenLite from 'gsap';\nimport times from '@/rain/times';\nimport {random,chance} from '@/rain/random';\n\nexport default {\n\tname: \"Rain\",\n\n\tdata () {\n\t\treturn {\n\t\t\ttextureRainFg: null,\n\t\t\ttextureRainBg: null,\n\t\t\ttextureStormLightningFg: null,\n\t\t\ttextureStormLightningBg: null,\n\t\t\ttextureFalloutFg: null,\n\t\t\ttextureFalloutBg: null,\n\t\t\ttextureSunFg: null,\n\t\t\ttextureSunBg: null,\n\t\t\ttextureDrizzleFg: null,\n\t\t\ttextureDrizzleBg: null,\n\t\t\tdropColor: null,\n\t\t\tdropAlpha: null,\n\n\t\t\ttextureFg: null,\n\t\t\ttextureFgCtx: null,\n\t\t\ttextureBg: null,\n\t\t\ttextureBgCtx: null,\n\n\t\t\ttextureBgSize: {\n\t\t\t\twidth:384,\n\t\t\t\theight:256\n\t\t\t},\n\t\t\ttextureFgSize: {\n\t\t\t\twidth:96,\n\t\t\t\theight:64\n\t\t\t},\n\n\t\t\traindrops: null,\n\t\t\trenderer: null,\n\t\t\tcanvas: null,\n\n\t\t\tparallax: {x:0,y:0},\n\n\t\t\tweatherData: null,\n\t\t\tcurWeatherData: null,\n\t\t\tblend: {v:0},\n\n\t\t\tdpi: 0\n\t\t}\n\t},\n\tmethods: {\n\n\t\tloadTextures(){\n\t\t\tloadImages([\n\t\t\t\t\t{name:\"dropAlpha\",src:\"img/drop-alpha.png\"},\n\t\t\t\t\t{name:\"dropColor\",src:\"img/drop-color.png\"},\n\n\t\t\t\t\t{name:\"textureRainFg\",src:\"img/weather/texture-rain-fg.png\"},\n\t\t\t\t\t{name:\"textureRainBg\",src:\"img/weather/texture-rain-bg.png\"},\n\t\t\t\t]).then((images)=>{\n\t\t\t\t\tthis.textureRainFg = images.textureRainFg.img;\n\t\t\t\t\tthis.textureRainBg = images.textureRainBg.img;\n\n\t\t\t\t\tthis.dropColor = images.dropColor.img;\n\t\t\t\t\tthis.dropAlpha = images.dropAlpha.img;\n\n\t\t\t\t\tthis.init();\n\t\t\t\t});\n\t\t},\n\n\t\tinit(){\n\t\t\tthis.canvas=document.querySelector('#container');\n\n\t\t\tthis.dpi = window.devicePixelRatio;\n\t\t\tthis.canvas.width = window.innerWidth*this.dpi;\n\t\t\tthis.canvas.height = window.innerHeight*this.dpi;\n\t\t\tthis.canvas.style.width = window.innerWidth+\"px\";\n\t\t\tthis.canvas.style.height = window.innerHeight+\"px\";\n\n\t\t\tthis.raindrops=new Raindrops(\n\t\t\t\tthis.canvas.width,\n\t\t\t\tthis.canvas.height,\n\t\t\t\tthis.dpi,\n\t\t\t\tthis.dropAlpha,\n\t\t\t\tthis.dropColor,{\n\t\t\t\t\ttrailRate:1,\n\t\t\t\t\ttrailScaleRange:[0.2,0.45],\n\t\t\t\t\tcollisionRadius : 0.45,\n\t\t\t\t\tdropletsCleaningRadiusMultiplier : 0.28,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tthis.textureFg = createCanvas(this.textureFgSize.width,this.textureFgSize.height);\n\t\t\tthis.textureFgCtx = this.textureFg.getContext('2d');\n\t\t\tthis.textureBg = createCanvas(this.textureBgSize.width,this.textureBgSize.height);\n\t\t\tthis.textureBgCtx = this.textureBg.getContext('2d');\n\n\t\t\tthis.generateTextures(this.textureRainFg,this.textureRainBg);\n\n\t\t\tthis.renderer = new RainRenderer(this.canvas, this.raindrops.canvas, this.textureFg, this.textureBg, null,{\n\t\t\t\tbrightness:1.04,\n\t\t\t\talphaMultiply:6,\n\t\t\t\talphaSubtract:3,\n\t\t\t\t// minRefraction:256,\n\t\t\t\t// maxRefraction:512\n\t\t\t});\n\n\t\t\tthis.setupEvents();\n\t\t},\n\n\t\tsetupEvents(){\n\t\t\tthis.setupParallax();\n\t\t\tthis.setupWeather();\n\t\t\tthis.setupFlash();\n\t\t},\n\n\t\tsetupParallax(){\n\t\t\tdocument.addEventListener('mousemove',(event)=>{\n\t\t\t\tlet x=event.pageX;\n\t\t\t\tlet y=event.pageY;\n\n\t\t\t\tTweenLite.to(this.parallax,1,{\n\t\t\t\t\tx:((x/this.canvas.width)*2)-1,\n\t\t\t\t\ty:((y/this.canvas.height)*2)-1,\n\t\t\t\t\tease:Quint.easeOut,\n\t\t\t\t\tonUpdate:()=>{\n\t\t\t\t\t\tthis.renderer.parallaxX=this.parallax.x;\n\t\t\t\t\t\tthis.renderer.parallaxY=this.parallax.y;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\n\t\tsetupFlash(){\n\t\t\tsetInterval(()=>{\n\t\t\t\tif(chance(this.curWeatherData.flashChance)){\n\t\t\t\t\tflash(this.curWeatherData.bg,this.curWeatherData.fg,this.curWeatherData.flashBg,this.curWeatherData.flashFg);\n\t\t\t\t}\n\t\t\t},500)\n\t\t},\n\n\t\tsetupWeather(){\n\t\t\tthis.setupWeatherData();\n\t\t\twindow.addEventListener(\"hashchange\",(event)=>{\n\t\t\t\tthis.updateWeather();\n\t\t\t});\n\t\t\tthis.updateWeather();\n\t\t},\n\n\t\tsetupWeatherData(){\n\t\t\tlet defaultWeather={\n\t\t\t\training:true,\n\t\t\t\tminR:20,\n\t\t\t\tmaxR:50,\n\t\t\t\trainChance:0.35,\n\t\t\t\trainLimit:6,\n\t\t\t\tdropletsRate:50,\n\t\t\t\tdropletsSize:[3,5.5],\n\t\t\t\ttrailRate:1,\n\t\t\t\ttrailScaleRange:[0.25,0.35],\n\t\t\t\tfg:this.textureRainFg,\n\t\t\t\tbg:this.textureRainBg,\n\t\t\t\tflashFg:null,\n\t\t\t\tflashBg:null,\n\t\t\t\tflashChance:0,\n\t\t\t\tcollisionRadiusIncrease:0.0002\n\t\t\t};\n\n\t\t\tfunction weather(data){\n\t\t\t\treturn Object.assign({},defaultWeather,data);\n\t\t\t}\n\n\t\t\tthis.weatherData={\n\t\t\t\train:weather({\n\t\t\t\t\trainChance:0.35,\n\t\t\t\t\tdropletsRate:50,\n\t\t\t\t\training:true,\n\t\t\t\t\t// trailRate:2.5,\n\t\t\t\t\tfg:this.textureRainFg,\n\t\t\t\t\tbg:this.textureRainBg\n\t\t\t\t})\n\t\t\t};\n\t\t},\n\n\t\tupdateWeather(){\n\t\t\tlet hash = window.location.hash;\n\t\t\tlet currentSlide=null;\n\t\t\tlet currentNav=null;\n\t\t\tif(hash!=\"\"){\n\t\t\t\tcurrentSlide = document.querySelector(hash);\n\t\t\t}\n\t\t\tif(currentSlide==null){\n\t\t\t\tcurrentSlide = document.querySelector(\".slide\");\n\t\t\t\thash=\"#\"+currentSlide.getAttribute(\"id\");\n\t\t\t}\n\t\t\tcurrentNav=document.querySelector(\"[href='\"+hash+\"']\");\n\t\t\tlet data=this.weatherData[currentSlide.getAttribute('data-weather')];\n\t\t\tthis.curWeatherData=data;\n\n\t\t\tthis.raindrops.options=Object.assign(this.raindrops.options,data)\n\n\t\t\tthis.raindrops.clearDrops();\n\n\t\t\tTweenLite.fromTo(this.blend,1,{\n\t\t\t\tv:0\n\t\t\t},{\n\t\t\t\tv:1,\n\t\t\t\tonUpdate:()=>{\n\t\t\t\t\tthis.generateTextures(data.fg,data.bg,this.blend.v);\n\t\t\t\t\tthis.renderer.updateTextures();\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tflash(baseBg,baseFg,flashBg,flashFg){\n\t\t\tlet flashValue={v:0};\n\t\t\tfunction transitionFlash(to,t=0.025){\n\t\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t\tTweenLite.to(flashValue,t,{\n\t\t\t\t\t\tv:to,\n\t\t\t\t\t\tease:Quint.easeOut,\n\t\t\t\t\t\tonUpdate:()=>{\n\t\t\t\t\t\t\tthis.generateTextures(baseFg,baseBg);\n\t\t\t\t\t\t\tthis.generateTextures(flashFg,flashBg,flashValue.v);\n\t\t\t\t\t\t\tthis.renderer.updateTextures();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonComplete:()=>{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet lastFlash=transitionFlash(1);\n\t\t\ttimes(random(2,7),(i)=>{\n\t\t\t\tlastFlash=lastFlash.then(()=>{\n\t\t\t\t\treturn transitionFlash(random(0.1,1))\n\t\t\t\t})\n\t\t\t})\n\t\t\tlastFlash=lastFlash.then(()=>{\n\t\t\t\treturn transitionFlash(1,0.1);\n\t\t\t}).then(()=>{\n\t\t\t\ttransitionFlash(0,0.25);\n\t\t\t});\n\t\t},\n\n\t\tgenerateTextures(fg,bg,alpha=1){\n\t\t\tthis.textureFgCtx.globalAlpha=alpha;\n\t\t\tthis.textureFgCtx.drawImage(fg,0,0,this.textureFgSize.width,this.textureFgSize.height);\n\n\t\t\tthis.textureBgCtx.globalAlpha=alpha;\n\t\t\tthis.textureBgCtx.drawImage(bg,0,0,this.textureBgSize.width,this.textureBgSize.height);\n\t\t},\n\n\t\tresizeCanvas() {\n\t\t\tthis.dpi = window.devicePixelRatio;\n\t\t\tthis.canvas.width = window.innerWidth*this.dpi;\n\t\t\tthis.canvas.height = window.innerHeight*this.dpi;\n\t\t\tthis.canvas.style.width = window.innerWidth+\"px\";\n\t\t\tthis.canvas.style.height = window.innerHeight+\"px\";\n\n\t\t\tthis.updateWeather();\n\t\t}\n\t},\n\tcreated: function () {\n\t\tthis.loadTextures();\n\t\twindow.addEventListener('resize', this.resizeCanvas);\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rain.vue?vue&type=template&id=9f29cb2a&\"\nimport script from \"./Rain.vue?vue&type=script&lang=js&\"\nexport * from \"./Rain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app>\n    <v-content>\n      <v-container fluid rain>\n        <Rain />\n        <MainView />\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport MainView from \"@/views/Main.vue\";\nimport Rain from \"@/views/Rain.vue\";\n\nexport default {\n  name: \"app\",\n  data: function() {\n    return {\n      dark: true\n    };\n  },\n  components: {\n    MainView,\n    Rain\n  }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=169c3902&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport App from \"./App.vue\";\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}